<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTG Scanner Pro - AI-Powered Card Recognition</title>
    
    <!-- Fixed favicon path -->
    <link rel="icon" href="/favicon.ico" />
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MTG Scanner Pro">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#4a90e2">
    
    <!-- 🔥 BACKUP: Inline Manifest (if external fails) -->
    <script>
        const manifestData = {
            "name": "MTG Scanner Pro",
            "short_name": "MTGScan",
            "description": "AI-powered MTG card recognition with 98% accuracy",
            "start_url": "/",
            "display": "standalone", 
            "background_color": "#1a1a2e",
            "theme_color": "#4a90e2",
            "orientation": "portrait",
            "icons": [
                {
                    "src": "/favicon.ico",
                    "sizes": "64x64 32x32 24x24 16x16",
                    "type": "image/x-icon"
                }
            ]
        };
        
        const manifestLink = document.createElement('link');
        manifestLink.rel = 'manifest';
        manifestLink.href = '/manifest.json';
        
        manifestLink.onerror = function() {
            console.log('External manifest failed, using inline backup');
            const blob = new Blob([JSON.stringify(manifestData)], {
                type: 'application/json'
            });
            const manifestURL = URL.createObjectURL(blob);
            manifestLink.href = manifestURL;
        };
        
        document.head.appendChild(manifestLink);
    </script>
    
    <!-- 🎨 CardDisplay.css Styling -->
    <style>
        /* CardDisplay.css - MTG Scanner Pro Styling */
        .mtg-scanner-pro {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .scrollable {
            scrollbar-width: thin;
            scrollbar-color: #4a90e2 rgba(255, 255, 255, 0.1);
        }

        .scrollable::-webkit-scrollbar {
            width: 8px;
        }

        .scrollable::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .scrollable::-webkit-scrollbar-thumb {
            background: #4a90e2;
            border-radius: 4px;
        }

        button {
            transition: all 0.2s ease;
        }

        button:hover:not(:disabled) {
            transform: translateY(-1px);
            filter: brightness(1.1);
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }

        .pulse { animation: pulse 2s infinite; }

        @media (max-width: 768px) {
            .mtg-scanner-pro { padding: 15px; }
            .glass-card { padding: 16px; }
        }

        .toast-message {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            animation: slideInRight 0.3s ease-out;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        video {
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(74, 144, 226, 0.3);
        }

        /* Base reset and layout */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            color: white;
        }

        .loading-logo {
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #4a90e2, #64b5f6);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 24px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(74, 144, 226, 0.3);
            animation: pulse 2s infinite;
        }

        .loading-title {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #4a90e2, #64b5f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1.2rem;
            color: #b0bec5;
            margin-bottom: 40px;
            text-align: center;
            max-width: 600px;
        }

        .loading-progress {
            width: 300px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #4a90e2, #64b5f6);
            border-radius: 3px;
            width: 0%;
            animation: loadProgress 4s ease-in-out forwards;
        }

        @keyframes loadProgress {
            0% { width: 0%; }
            25% { width: 30%; }
            50% { width: 60%; }
            75% { width: 85%; }
            100% { width: 100%; }
        }

        .loading-status {
            font-size: 14px;
            color: #64b5f6;
            text-align: center;
        }

        /* Main App Container */
        #root {
            opacity: 0;
            transition: opacity 0.5s ease-in;
        }

        #root.loaded {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-logo">
            MTG<br>SCAN
        </div>
        <div class="loading-title">MTG Scanner Pro</div>
        <div class="loading-subtitle">
            🔥 98% AI Recognition • Smart Cooldown • Gemini Vision • Live Deployment
        </div>
        <div class="loading-progress">
            <div class="loading-bar"></div>
        </div>
        <div class="loading-status" id="loading-status">
            Initializing MTG Scanner Pro...
        </div>
    </div>

    <!-- Main App Container -->
    <div id="root"></div>

    <!-- React and Dependencies -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 🔥 CLAUDE VISION SERVICE (Your Gemini AI Integration) -->
    <script type="text/babel">
        // ClaudeVisionService.js - INTEGRATED DIRECTLY
        class ClaudeVisionService {
            constructor() {
                console.log('🧠 MTG CARD SCANNER - GEMINI + SCRYFALL INTEGRATION!');
                this.canvas = null;
                this.ctx = null;
                this.debugMode = true;
                
                // GOOGLE GEMINI API CONFIGURATION
                this.geminiApiKey = 'AIzaSyBtqyUy1X3BdNtUAW88QZWbtqI39MbUDdk';
                this.geminiApiUrl = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent';
                this.lastGeminiCall = 0;
                this.geminiRateLimit = 3000; // 3 seconds
                this.consecutiveErrors = 0;
                this.backoffMultiplier = 1.5;
                
                // Frame similarity detection
                this.lastFrameHash = null;
                this.frameSimilarityThreshold = 0.95;
                this.lastSuccessfulDetection = null;
                this.lastSuccessfulTime = 0;
                
                console.log('✅ Gemini Vision API initialized successfully');
                console.log('🔧 MTG-focused scanner ready');
            }

            log(message, data = null) {
                if (this.debugMode) {
                    console.log(`🧠 ${message}`, data || '');
                }
            }

            // Calculate simple frame hash for similarity detection
            calculateFrameHash(imageData) {
                let hash = 0;
                const step = Math.floor(imageData.length / 100);
                
                for (let i = 0; i < imageData.length; i += step) {
                    hash = ((hash << 5) - hash + imageData[i]) & 0xffffffff;
                }
                
                return hash;
            }

            // Check if current frame is too similar to last frame
            isFrameSimilarToLast(frameData) {
                const canvas = frameData.canvas;
                const ctx = canvas.getContext('2d');
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const currentHash = this.calculateFrameHash(imageData.data);
                
                if (this.lastFrameHash === null) {
                    this.lastFrameHash = currentHash;
                    return false;
                }
                
                const hashDifference = Math.abs(currentHash - this.lastFrameHash);
                const isSimilar = hashDifference < 1000;
                
                this.lastFrameHash = currentHash;
                
                if (isSimilar) {
                    console.log('⏭️ Frame too similar to last, skipping API call');
                }
                
                return isSimilar;
            }

            // MAIN PROCESSING METHOD
            async processVideoFrame(videoElement) {
                this.log('🔄 Processing frame for MTG CARD IDENTIFICATION...');
                const startTime = performance.now();
                
                try {
                    const frameData = await this.captureHighQualityFrame(videoElement);
                    this.log('📷 Frame captured', `${frameData.width}x${frameData.height}`);
                    
                    // Check frame similarity
                    if (this.isFrameSimilarToLast(frameData)) {
                        if (this.lastSuccessfulDetection && 
                            Date.now() - this.lastSuccessfulTime < 5000) {
                            this.log('♻️ Returning cached detection for similar frame');
                            return this.lastSuccessfulDetection;
                        }
                        
                        return {
                            hasCard: false,
                            message: 'Frame unchanged, skipping scan',
                            confidence: 0,
                            method: 'frame_similarity_skip',
                            processingTime: Math.round(performance.now() - startTime),
                            timestamp: new Date().toISOString()
                        };
                    }
                    
                    const geminiResult = await this.callGeminiVisionForMTG(frameData);
                    this.log('🎯 Gemini MTG analysis result', geminiResult);
                    
                    const processingTime = Math.round(performance.now() - startTime);
                    const finalResult = this.formatMTGScannerResult(geminiResult, processingTime);
                    
                    // Cache successful detections
                    if (finalResult.hasCard && finalResult.confidence >= 80) {
                        this.lastSuccessfulDetection = finalResult;
                        this.lastSuccessfulTime = Date.now();
                        this.consecutiveErrors = 0;
                    }
                    
                    return finalResult;
                    
                } catch (error) {
                    this.log('❌ MTG scanning error, using fallback', error.message);
                    this.consecutiveErrors++;
                    const processingTime = Math.round(performance.now() - startTime);
                    return await this.mtgFallback(videoElement, processingTime);
                }
            }

            // MTG-OPTIMIZED GEMINI VISION CALL
            async callGeminiVisionForMTG(frameData) {
                this.log('🧠 Calling Gemini Vision for MTG CARD IDENTIFICATION...');
                
                const now = Date.now();
                let actualRateLimit = this.geminiRateLimit;
                
                if (this.consecutiveErrors > 0) {
                    actualRateLimit = this.geminiRateLimit * Math.pow(this.backoffMultiplier, this.consecutiveErrors);
                    actualRateLimit = Math.min(actualRateLimit, 30000);
                    console.log(`⏳ Applying backoff: ${actualRateLimit}ms (errors: ${this.consecutiveErrors})`);
                }
                
                if (now - this.lastGeminiCall < actualRateLimit) {
                    const waitTime = actualRateLimit - (now - this.lastGeminiCall);
                    this.log(`⏳ Rate limiting: waiting ${waitTime}ms`);
                    throw new Error(`Rate limited - wait ${waitTime}ms between calls`);
                }
                this.lastGeminiCall = now;
                
                const imageBase64 = this.frameToBase64(frameData);
                const base64Data = imageBase64.split(',')[1];
                this.log('📤 Image ready for MTG analysis, size:', base64Data.length);
                
                const mtgPrompt = `You are an expert Magic: The Gathering card identifier. Analyze this image ONLY for MTG cards.

CRITICAL RULES:
1. If this is NOT a Magic: The Gathering card, respond with "NOT_MTG_CARD"
2. Only identify cards with 90%+ confidence
3. Focus on the card name in the title area
4. Ignore blurry, partial, or unclear cards

If you see a clear MTG card, identify:
- CARD NAME (exact spelling, most important)
- Mana cost from top-right corner
- Card type (Creature, Instant, etc.)
- Set symbol if clearly visible

RESPOND EXACTLY LIKE THIS:
CARD_NAME: [exact card name]
MANA_COST: [symbols like {R}, {2}{U}, etc.]
TYPE: [card type line]
SET: [set name if visible, otherwise "Unknown"]
TEXT: [first line of rules text if clearly visible]
CONFIDENCE: [80-100 only for clear cards]

ONLY analyze clear, well-lit MTG cards. Reject anything unclear.`;

                const requestBody = {
                    contents: [{
                        parts: [
                            { text: mtgPrompt },
                            {
                                inline_data: {
                                    mime_type: "image/jpeg",
                                    data: base64Data
                                }
                            }
                        ]
                    }],
                    generationConfig: {
                        temperature: 0.1,
                        topK: 1,
                        topP: 0.8,
                        maxOutputTokens: 200
                    }
                };

                try {
                    const response = await fetch(`${this.geminiApiUrl}?key=${this.geminiApiKey}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    this.log('📥 Response received:', {
                        status: response.status,
                        statusText: response.statusText,
                        ok: response.ok
                    });

                    if (!response.ok) {
                        const errorText = await response.text();
                        this.log('❌ Gemini error response:', errorText);
                        
                        if (response.status === 429) {
                            this.consecutiveErrors++;
                            throw new Error(`Gemini rate limited: ${response.status} - Implementing longer backoff`);
                        }
                        
                        throw new Error(`Gemini error: ${response.status} - ${errorText}`);
                    }

                    const data = await response.json();
                    
                    if (!data.candidates || !data.candidates[0] || !data.candidates[0].content) {
                        throw new Error('Invalid Gemini response structure');
                    }
                    
                    const responseText = data.candidates[0].content.parts[0].text;
                    console.log('🎯 RAW GEMINI RESPONSE:');
                    console.log('---START RESPONSE---');
                    console.log(responseText);
                    console.log('---END RESPONSE---');
                    
                    const mtgAnalysis = this.parseMTGResponse(responseText);
                    this.log('✅ MTG parsing successful:', mtgAnalysis);
                    
                    return mtgAnalysis;

                } catch (error) {
                    this.log('❌ Gemini MTG Vision call failed:', error.message);
                    throw error;
                }
            }

            // Parse MTG-specific response
            parseMTGResponse(responseText) {
                if (!responseText || responseText.includes('NOT_MTG_CARD')) {
                    return {
                        hasCard: false,
                        cardName: '',
                        confidence: 0,
                        reason: 'Not a Magic: The Gathering card'
                    };
                }
                
                const lines = responseText.split('\n');
                const result = {
                    hasCard: true,
                    cardName: '',
                    manaCost: '',
                    cardType: '',
                    setInfo: '',
                    rulesText: '',
                    confidence: 50
                };
                
                for (const line of lines) {
                    const trimmedLine = line.trim();
                    if (trimmedLine.startsWith('CARD_NAME:')) {
                        result.cardName = trimmedLine.replace('CARD_NAME:', '').trim();
                    } else if (trimmedLine.startsWith('MANA_COST:')) {
                        result.manaCost = trimmedLine.replace('MANA_COST:', '').trim();
                    } else if (trimmedLine.startsWith('TYPE:')) {
                        result.cardType = trimmedLine.replace('TYPE:', '').trim();
                    } else if (trimmedLine.startsWith('SET:')) {
                        result.setInfo = trimmedLine.replace('SET:', '').trim();
                    } else if (trimmedLine.startsWith('TEXT:')) {
                        result.rulesText = trimmedLine.replace('TEXT:', '').trim();
                    } else if (trimmedLine.startsWith('CONFIDENCE:')) {
                        const confStr = trimmedLine.replace('CONFIDENCE:', '').trim();
                        result.confidence = parseInt(confStr) || 50;
                    }
                }
                
                if (!result.cardName || result.cardName.length < 3) {
                    return {
                        hasCard: false,
                        cardName: '',
                        confidence: 0,
                        reason: 'No valid card name detected'
                    };
                }
                
                if (result.confidence < 80) {
                    return {
                        hasCard: false,
                        cardName: result.cardName,
                        confidence: result.confidence,
                        reason: `Confidence too low: ${result.confidence}%`
                    };
                }
                
                return result;
            }

            // Capture high-quality frame
            async captureHighQualityFrame(videoElement) {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                canvas.width = videoElement.videoWidth;
                canvas.height = videoElement.videoHeight;
                
                ctx.imageSmoothingEnabled = true;
                ctx.imageSmoothingQuality = 'high';
                ctx.drawImage(videoElement, 0, 0);
                
                return {
                    canvas: canvas,
                    width: canvas.width,
                    height: canvas.height,
                    imageData: ctx.getImageData(0, 0, canvas.width, canvas.height)
                };
            }

            frameToBase64(frameData) {
                return frameData.canvas.toDataURL('image/jpeg', 0.8);
            }

            // Format MTG scanner result
            formatMTGScannerResult(result, processingTime) {
                if (result.hasCard && result.confidence >= 80 && result.cardName && result.cardName.length >= 3) {
                    return {
                        hasCard: true,
                        cardName: result.cardName,
                        confidence: result.confidence,
                        setInfo: result.setInfo || 'Unknown Set',
                        cardType: result.cardType || 'Unknown Type',
                        manaCost: result.manaCost || '',
                        method: 'gemini_vision_mtg',
                        processingTime: processingTime,
                        timestamp: new Date().toISOString()
                    };
                } else {
                    const reason = result.confidence < 80 ? 'LOW_CONFIDENCE' : 'NO_MTG_CARD_DETECTED';
                    const message = result.confidence < 80 ? 
                        `MTG card detected but confidence too low (${result.confidence}%) - improve lighting/angle` : 
                        'No Magic: The Gathering card detected - position card clearly in view';
                        
                    return {
                        hasCard: false,
                        message: message,
                        reason: reason,
                        confidence: result.confidence || 0,
                        method: 'gemini_vision_mtg',
                        processingTime: processingTime,
                        timestamp: new Date().toISOString()
                    };
                }
            }

            // MTG fallback
            async mtgFallback(videoElement, processingTime) {
                this.log('⚠️ MTG Vision unavailable, using fallback...');
                
                let fallbackMessage = 'MTG Scanner temporarily unavailable - please try again';
                
                if (this.consecutiveErrors > 3) {
                    fallbackMessage = 'Too many errors - please check internet connection and try again later';
                } else if (this.consecutiveErrors > 1) {
                    fallbackMessage = 'MTG Scanner experiencing issues - retrying with longer intervals';
                }
                
                return {
                    hasCard: false,
                    message: fallbackMessage,
                    reason: 'SCANNER_ERROR',
                    confidence: 0,
                    method: 'mtg_fallback',
                    processingTime: processingTime,
                    timestamp: new Date().toISOString(),
                    consecutiveErrors: this.consecutiveErrors
                };
            }

            // Reset error state
            resetErrorState() {
                this.consecutiveErrors = 0;
                this.lastFrameHash = null;
                this.lastSuccessfulDetection = null;
                this.lastSuccessfulTime = 0;
                console.log('🔄 Vision service error state reset');
            }
        }

        // Make ClaudeVisionService available globally
        window.ClaudeVisionService = ClaudeVisionService;
    </script>

    <!-- 🔥 MTG SCANNER COMPONENT (Your Complete Scanner) -->
    <script type="text/babel">
        // Loading screen management
        const loadingSteps = [
            "🧠 Loading Gemini Vision AI...",
            "📊 Initializing Scryfall database...",
            "📷 Setting up HD camera system...",
            "🔥 Configuring smart cooldown...",
            "🎯 Preparing 98% accuracy engine...",
            "🚀 MTG Scanner Pro ready!"
        ];

        let currentStep = 0;
        const statusElement = document.getElementById('loading-status');

        const updateLoadingStatus = () => {
            if (currentStep < loadingSteps.length) {
                statusElement.textContent = loadingSteps[currentStep];
                currentStep++;
                setTimeout(updateLoadingStatus, 600);
            }
        };

        updateLoadingStatus();

        // Hide loading screen after components are ready
        const hideLoadingScreen = () => {
            const loadingScreen = document.getElementById('loading-screen');
            const mainApp = document.getElementById('root');
            
            loadingScreen.style.opacity = '0';
            loadingScreen.style.transition = 'opacity 0.5s ease-out';
            
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                mainApp.classList.add('loaded');
            }, 500);
        };

        // 🔥 YOUR COMPLETE SCANNER COMPONENT GOES HERE
        // (I'll include a simplified version due to space, but you'll replace this with your full Scanner.js content)
        
        const Scanner = () => {
            const [message, setMessage] = React.useState('🔧 Initializing MTG Scanner Pro...');
            
            React.useEffect(() => {
                setTimeout(() => {
                    setMessage('✅ Ready to integrate your complete Scanner.js component!');
                }, 2000);
            }, []);
            
            return React.createElement('div', {
                style: {
                    maxWidth: '1400px',
                    margin: '0 auto',
                    padding: '20px',
                    minHeight: '100vh',
                    background: 'linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)',
                    color: '#ffffff',
                    fontFamily: 'system-ui, -apple-system, sans-serif'
                }
            }, [
                React.createElement('div', {
                    key: 'header',
                    style: {
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center',
                        padding: '20px 0',
                        borderBottom: '2px solid #4a90e2',
                        marginBottom: '20px'
                    }
                }, [
                    React.createElement('div', {
                        key: 'title-section',
                        style: { display: 'flex', alignItems: 'center', gap: '15px' }
                    }, [
                        React.createElement('div', {
                            key: 'logo',
                            style: {
                                width: '60px',
                                height: '60px',
                                background: 'linear-gradient(45deg, #4a90e2, #64b5f6)',
                                borderRadius: '12px',
                                display: 'flex',
                                flexDirection: 'column',
                                alignItems: 'center',
                                justifyContent: 'center',
                                fontWeight: 'bold',
                                fontSize: '12px',
                                textAlign: 'center',
                                lineHeight: '1.1'
                            }
                        }, 'MTG\nSCAN'),
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', {
                                key: 'h1',
                                style: {
                                    fontSize: '2rem',
                                    background: 'linear-gradient(45deg, #4a90e2, #64b5f6)',
                                    WebkitBackgroundClip: 'text',
                                    WebkitTextFillColor: 'transparent',
                                    backgroundClip: 'text',
                                    marginBottom: '5px'
                                }
                            }, 'MTG Scanner Pro'),
                            React.createElement('span', {
                                key: 'subtitle',
                                style: { fontSize: '0.9rem', color: '#b0bec5' }
                            }, '🔥 Integration Ready • 98% Accuracy • Live!')
                        ])
                    ])
                ]),
                
                React.createElement('div', {
                    key: 'integration-message',
                    style: {
                        background: 'rgba(74, 144, 226, 0.1)',
                        border: '2px solid #4a90e2',
                        borderRadius: '15px',
                        padding: '40px',
                        textAlign: 'center',
                        marginBottom: '30px'
                    }
                }, [
                    React.createElement('h2', {
                        key: 'title',
                        style: { color: '#4a90e2', marginBottom: '20px', fontSize: '2rem' }
                    }, '🎯 Scanner Integration Ready!'),
                    React.createElement('p', {
                        key: 'message',
                        style: { fontSize: '1.2rem', marginBottom: '30px', color: '#e0e0e0' }
                    }, message),
                    React.createElement('div', {
                        key: 'instructions',
                        style: {
                            background: 'rgba(255, 255, 255, 0.05)',
                            borderRadius: '10px',
                            padding: '20px',
                            textAlign: 'left'
                        }
                    }, [
                        React.createElement('h3', {
                            key: 'inst-title',
                            style: { color: '#4a90e2', marginBottom: '15px' }
                        }, '🔄 Next Steps:'),
                        React.createElement('ol', {
                            key: 'steps',
                            style: { lineHeight: '2', color: '#e0e0e0' }
                        }, [
                            React.createElement('li', { key: '1' }, 'Replace this placeholder with your complete Scanner.js component'),
                            React.createElement('li', { key: '2' }, 'ClaudeVisionService is already loaded and ready'),
                            React.createElement('li', { key: '3' }, 'All styling (CardDisplay.css) is included'),
                            React.createElement('li', { key: '4' }, 'Deploy and test your 98% accuracy system'),
                            React.createElement('li', { key: '5' }, 'Start alpha testing with MTG community!')
                        ])
                    ])
                ]),
                
                React.createElement('div', {
                    key: 'status-grid',
                    style: {
                        display: 'grid',
                        gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
                        gap: '20px'
                    }
                }, [
                    React.createElement('div', {
                        key: 'gemini',
                        style: {
                            background: 'rgba(34, 197, 94, 0.1)',
                            border: '2px solid #22c55e',
                            borderRadius: '12px',
                            padding: '20px',
                            textAlign: 'center'
                        }
                    }, [
                        React.createElement('div', {
                            key: 'icon',
                            style: { fontSize: '2.5rem', marginBottom: '10px' }
                        }, '🧠'),
                        React.createElement('h3', {
                            key: 'title',
                            style: { color: '#22c55e', marginBottom: '10px' }
                        }, 'Gemini AI Ready'),
                        React.createElement('p', {
                            key: 'desc',
                            style: { color: '#b0bec5', fontSize: '14px' }
                        }, '98% accuracy vision system loaded')
                    ]),
                    
                    React.createElement('div', {
                        key: 'styling',
                        style: {
                            background: 'rgba(34, 197, 94, 0.1)',
                            border: '2px solid #22c55e',
                            borderRadius: '12px',
                            padding: '20px',
                            textAlign: 'center'
                        }
                    }, [
                        React.createElement('div', {
                            key: 'icon',
                            style: { fontSize: '2.5rem', marginBottom: '10px' }
                        }, '🎨'),
                        React.createElement('h3', {
                            key: 'title',
                            style: { color: '#22c55e', marginBottom: '10px' }
                        }, 'Styling Ready'),
                        React.createElement('p', {
                            key: 'desc',
                            style: { color: '#b0bec5', fontSize: '14px' }
                        }, 'CardDisplay.css loaded and active')
                    ]),
                    
                    React.createElement('div', {
                        key: 'deployment',
                        style: {
                            background: 'rgba(34, 197, 94, 0.1)',
                            border: '2px solid #22c55e',
                            borderRadius: '12px',
                            padding: '20px',
                            textAlign: 'center'
                        }
                    }, [
                        React.createElement('div', {
                            key: 'icon',
                            style: { fontSize: '2.5rem', marginBottom: '10px' }
                        }, '🚀'),
                        React.createElement('h3', {
                            key: 'title',
                            style: { color: '#22c55e', marginBottom: '10px' }
                        }, 'Deployment Live'),
                        React.createElement('p', {
                            key: 'desc',
                            style: { color: '#b0bec5', fontSize: '14px' }
                        }, 'Vercel hosting working perfectly')
                    ])
                ])
            ]);
        };

        // Check if React is loaded and start app
        const checkReactAndStart = () => {
            if (typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
                console.log('🚀 React loaded, starting MTG Scanner Pro...');
                
                const MountPoint = () => {
                    const [isReady, setIsReady] = React.useState(false);
                    
                    React.useEffect(() => {
                        setTimeout(() => {
                            setIsReady(true);
                            hideLoadingScreen();
                        }, 4000);
                    }, []);
                    
                    if (!isReady) {
                        return React.createElement('div', {
                            style: {
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                height: '100vh',
                                color: '#4a90e2',
                                fontSize: '18px'
                            }
                        }, '🔧 Loading MTG Scanner Pro components...');
                    }
                    
                    return React.createElement(Scanner);
                };
                
                // Use React 18 createRoot
                if (ReactDOM.createRoot) {
                    const root = ReactDOM.createRoot(document.getElementById('root'));
                    root.render(React.createElement(MountPoint));
                } else {
                    ReactDOM.render(React.createElement(MountPoint), document.getElementById('root'));
                }
            } else {
                setTimeout(checkReactAndStart, 100);
            }
        };

        // Start the app
        checkReactAndStart();

        // Console success message
        console.log(`
🎯 MTG SCANNER PRO - INTEGRATION READY!
=====================================
✅ ClaudeVisionService loaded (Gemini AI)
✅ CardDisplay.css styling active
✅ React 18 with createRoot
✅ Deployment working perfectly
✅ Ready for Scanner.js integration

🔄 Replace Scanner component with your complete version!
        `);
    </script>
</body>
</html>